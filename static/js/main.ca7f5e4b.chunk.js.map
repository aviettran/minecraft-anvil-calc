{"version":3,"sources":["utils/worker.js","utils/helpers.js","utils/item.js","components/icon.js","components/item.js","components/step.js","App.js","serviceWorker.js","index.js"],"names":["addMethods","methods","module","exports","w","Worker","name","numToNumeral","num","levelToExperience","level","Math","pow","getEnchantmentDisplayName","enchantment_name","enchantment_data","enchantments","find","find_enchantment","display_name","getItemData","item","new_item","map","enchantment","checkEnchantmentIsCompatible","targetItem","newEnchantment","some","some_enchantment","group","group_exception","applies_to","some_item","getDisplayName","item_name","item_data","items","find_item","Icon","this","props","size","src","process","alt","width","height","React","PureComponent","smallerSelect","control","provided","state","minHeight","input","margin","indicatorsContainer","Item","filter","filtered_enchantment","value","label","onDelete","onAddEnchantment","onDeleteEnchantment","onChangeLevel","onChangePenalty","onCheckPreserve","Container","Row","Col","sm","fluid","className","xs","onClick","InputGroup","Prepend","Text","FormControl","type","penalty","min","onChange","e","index","options","getPossibleEnchantmentOptions","placeholder","styles","Table","OverlayTrigger","placement","overlay","Tooltip","id","key","max","max_level","item_multiplier","book_multiplier","Form","Check","Step","step","Badge","pill","variant","is_curse","sacrificeItem","resultingItem","stepCost","instance","worker","presets","clear","data","helmet","helmet_preset","chestplate","chestplate_preset","leggings","leggings_preset","boots","boots_preset","sword_sharpness","sword_sharpness_preset","pickaxe_fortune","pickaxe_fortune_preset","pickaxe_silk_touch","pickaxe_silk_touch_preset","bow","bow_preset","hoe_fortune","hoe_fortune_preset","hoe_silk_touch","hoe_silk_touch_preset","App","items_to_combine","results","steps","status","nextIndex","settings","java_edition","to_combine_item_type","reduce","setState","terminate","combineItemsExecute","then","itemToAdd","new_items_to_combine","combineAndSetState","Object","entries","entry","preset","length","item_index","target","modifiedItem","valueAsNumber","sort","item_a","item_b","enchantmentName","getEnchantmentMaxLevel","filter_enchantment","preserve","checked","new_settings","href","xl","getAddOptions","changeItemToAdd","Button","addItem","getPresetOptions","changePreset","setPreset","checkJavaEdition","deleteItem","addEnchantment","deleteEnchantment","changeEnchantmentToAdd","changeEchantmentToAdd","changeEnchantmentLevel","changeItemPenalty","checkPreserve","cost","total","Component","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.ca7f5e4b.chunk.js","sourcesContent":["\n\t\t\t\tvar addMethods = require(\"../../node_modules/workerize-loader/dist/rpc-wrapper.js\")\n\t\t\t\tvar methods = [\"combineItemsExecute\"]\n\t\t\t\tmodule.exports = function() {\n\t\t\t\t\tvar w = new Worker(__webpack_public_path__ + \"a221b0f93d30b00cefd5.worker.js\", { name: \"[hash].worker.js\" })\n\t\t\t\t\taddMethods(w, methods)\n\t\t\t\t\t\n\t\t\t\t\treturn w\n\t\t\t\t}\n\t\t\t","import enchantments from \"../data/enchantments.json\";\n\nconst numToNumeral = (num) => {\n  switch (num) {\n    case 1:\n      return \"I\";\n    case 2:\n      return \"II\";\n    case 3:\n      return \"III\";\n    case 4:\n      return \"IV\";\n    case 5:\n      return \"V\";\n    default:\n      return \"Numeral Error\";\n  }\n};\n\nconst levelToExperience = (level) => {\n  if (level < 17) {\n    return Math.pow(level, 2) + 6 * level;\n  } else if (level < 31) {\n    return 2.5 * Math.pow(level, 2) - 40.5 * level + 360;\n  } else {\n    return 4.5 * Math.pow(level, 2) - 162.5 * level + 2220;\n  }\n};\n\nconst addIndexes = (arrayToIndex) => {\n  return arrayToIndex.map((item, index) => {\n    return { ...item, index: index };\n  });\n};\n\nconst getEnchantmentDisplayName = (enchantment_name) => {\n  const enchantment_data = enchantments.find(\n    (find_enchantment) => find_enchantment.name === enchantment_name\n  );\n  return enchantment_data ? enchantment_data.display_name : null;\n};\n\nexport {\n  numToNumeral,\n  levelToExperience,\n  addIndexes,\n  getEnchantmentDisplayName,\n};\n","import enchantments from \"../data/enchantments.json\";\nimport { levelToExperience } from \"../utils/helpers\";\nimport items from \"../data/items.json\";\n\nconst getEnchantments = (item) => {\n  return enchantments.filter((enchantment) =>\n    enchantment.applies_to.some((possible_item) => possible_item === item)\n  );\n};\n\nconst getItemData = (item) => {\n  const new_item = { ...item };\n  new_item.enchantments = new_item.enchantments.map((enchantment) => {\n    return {\n      ...enchantment,\n      ...enchantments.find(\n        (enchantment_data) => enchantment_data.name === enchantment.name\n      ),\n    };\n  });\n  return new_item;\n};\n\n//If the box is checked on preserve enchantment, the end result must contain it\nconst areEnchantmentsPreserved = (\n  sacrificedItemEnchantments,\n  filtered_enchantments\n) => {\n  const removedEnchantments = sacrificedItemEnchantments.filter(\n    (sacrificed_enchantment) =>\n      !filtered_enchantments.includes(sacrificed_enchantment)\n  );\n  return !removedEnchantments.some(\n    (removed_enchantment) => removed_enchantment.preserve\n  );\n};\n\nconst checkEnchantmentIsCompatible = (targetItem, newEnchantment) => {\n  return (\n    // There isn't an existing enchantment in a mutal exclusion group\n    !targetItem.enchantments.some(\n      (some_enchantment) =>\n        some_enchantment.name !== newEnchantment.name &&\n        some_enchantment.group &&\n        newEnchantment.group &&\n        some_enchantment.group === newEnchantment.group &&\n        !(\n          some_enchantment.group_exception &&\n          newEnchantment.group_exception &&\n          some_enchantment.group_exception === newEnchantment.group_exception\n        ) // Rule exception for tridents\n    ) &&\n    //Possible enchantment is applicable to the given item\n    (newEnchantment.applies_to.some(\n      (some_item) => some_item === targetItem.name\n    ) ||\n      targetItem.name === \"book\")\n  );\n};\n\nconst mergeEnchantments = (\n  sacrificeItem,\n  targetEnchantments,\n  sacrificeEnchantments, //mutable\n  settings\n) => {\n  return sacrificeEnchantments.reduce(\n    (mergeResults, sacrificeEnchantment) => {\n      const multiplier =\n        sacrificeItem.name === \"book\"\n          ? sacrificeEnchantment.book_multiplier\n          : sacrificeEnchantment.item_multiplier;\n\n      // Find if target already has enchantment\n      const matchedEnchantment = mergeResults.resultingEnchantments.find(\n        (resultingEnchantment) =>\n          resultingEnchantment.name === sacrificeEnchantment.name\n      );\n      let newLevel = sacrificeEnchantment.level;\n      // Enchantment matched. Check Level.\n      if (matchedEnchantment) {\n        // Make a copy of the matched enchantment.\n        const newMatchedEnchantment = { ...matchedEnchantment };\n        let levelDifference =\n          sacrificeEnchantment.level - newMatchedEnchantment.level;\n        // Levels are the same. Bump level.\n        if (\n          levelDifference === 0 &&\n          newMatchedEnchantment.max_level > newMatchedEnchantment.level\n        ) {\n          levelDifference += 1;\n          newLevel += 1;\n        }\n        if (levelDifference > 0) {\n          mergeResults.cost += settings.java_edition\n            ? 0\n            : levelDifference * multiplier;\n          newMatchedEnchantment.level = newLevel;\n          // Remove old enchantment and replace with new copy\n          mergeResults.resultingEnchantments = [\n            ...mergeResults.resultingEnchantments.filter(\n              (filtered_enchantment) =>\n                filtered_enchantment.name !== newMatchedEnchantment.name\n            ),\n            newMatchedEnchantment,\n          ];\n        }\n        // If Java Edition, cost is always just multiplier * new level\n        mergeResults.cost += settings.java_edition ? newLevel * multiplier : 0;\n      } else {\n        // New enchantment. Add.\n        mergeResults.resultingEnchantments = [\n          ...mergeResults.resultingEnchantments,\n          sacrificeEnchantment,\n        ];\n        mergeResults.cost += newLevel * multiplier;\n      }\n      return mergeResults;\n    },\n    { cost: 0, resultingEnchantments: [...targetEnchantments] }\n  );\n};\n\nconst anvil = (targetItem, sacrificeItem, settings) => {\n  const targetPenalty = targetItem.penalty || 0;\n  const sacrificePenalty = sacrificeItem.penalty || 0;\n  // Filter non-applicable enchantments\n  const filtered_enchantments = sacrificeItem.enchantments.filter(\n    (enchantment) => checkEnchantmentIsCompatible(targetItem, enchantment)\n  );\n  if (\n    !areEnchantmentsPreserved(sacrificeItem.enchantments, filtered_enchantments)\n  ) {\n    return { error: true, status: \"Preserved enchantments have been lost\" };\n  }\n  const mergeResults = mergeEnchantments(\n    sacrificeItem,\n    targetItem.enchantments,\n    filtered_enchantments,\n    settings\n  );\n  const resultingItem = {\n    ...targetItem,\n    enchantments: mergeResults.resultingEnchantments,\n  };\n  const stepCost =\n    mergeResults.cost +\n    Math.pow(2, targetPenalty) -\n    1 +\n    Math.pow(2, sacrificePenalty) -\n    1 +\n    (settings.java_edition\n      ? sacrificeItem.enchantments.length - filtered_enchantments.length // JE only: add 1 per non-applicable enchantment\n      : 0);\n  resultingItem.penalty = Math.max(targetPenalty, sacrificePenalty) + 1;\n  const results = {\n    resultingItem: resultingItem,\n    cost: stepCost,\n    exp: levelToExperience(stepCost),\n    steps: [\n      {\n        targetItem: targetItem,\n        sacrificeItem: sacrificeItem,\n        resultingItem: resultingItem,\n        stepCost: stepCost,\n      },\n    ],\n  };\n  return results;\n};\n\nconst combineItems = (items, settings) => {\n  items = items.map(getItemData);\n\n  //For each item, determine what can be combined into it, use anvil, then call combineItems with what remains\n  let allResults = [];\n  items.forEach((targetItem) => {\n    const nonTargets = items.filter(\n      (sacrificeItem) => sacrificeItem !== targetItem\n    );\n    let eligibleItems = nonTargets.filter(\n      (sacrificeItem) =>\n        sacrificeItem.name === \"book\" || targetItem.name !== \"book\"\n    );\n\n    if (eligibleItems.length > 0) {\n      //Optimize - if book -> book, choose cheapest book\n      if (targetItem.name === \"book\") {\n        eligibleItems = [\n          eligibleItems.reduce((cheapestBook, item) => {\n            return mergeEnchantments(\n              item,\n              targetItem.enchantments,\n              item.enchantments,\n              settings\n            ).cost <\n              mergeEnchantments(\n                cheapestBook,\n                targetItem.enchantments,\n                cheapestBook.enchantments,\n                settings\n              ).cost\n              ? item\n              : cheapestBook;\n          }, eligibleItems[0]),\n        ];\n      }\n      //For each eligible item\n      eligibleItems.forEach((sacrificeItem) => {\n        let anvilResults = anvil(targetItem, sacrificeItem, settings);\n        //Constraint violated in anvil call; return\n        if (anvilResults.error) {\n          return;\n        }\n        const remaining_items = nonTargets.filter(\n          (item) => item !== sacrificeItem\n        );\n\n        if (remaining_items.length > 0) {\n          const remaining_items_results = combineItems(\n            [anvilResults.resultingItem, ...remaining_items],\n            settings\n          );\n\n          //Error found in the recursive call means that a constraint was violated; return\n          if (remaining_items_results.error) {\n            return;\n          }\n\n          anvilResults.resultingItem = remaining_items_results.resultingItem;\n          anvilResults.cost += remaining_items_results.cost;\n          anvilResults.exp += remaining_items_results.exp;\n          anvilResults.steps = [\n            ...anvilResults.steps,\n            ...remaining_items_results.steps,\n          ];\n        }\n        allResults = [...allResults, anvilResults];\n      });\n    }\n  });\n\n  //Get the cheapest results\n  if (allResults.length > 0) {\n    return allResults.reduce((cheapestResults, singleResult) => {\n      return singleResult.exp < cheapestResults.exp\n        ? singleResult\n        : cheapestResults;\n    }, allResults[0]);\n  } else {\n    return {\n      targetItem: items[0],\n      steps: [],\n      error: true,\n      status: \"No items or items cannot be combined.\",\n    };\n  }\n};\n\nconst getDisplayName = (item_name) => {\n  const item_data = items.find((find_item) => find_item.name === item_name);\n  return item_data ? item_data.display_name : null;\n};\n\nexport {\n  getEnchantments,\n  getItemData,\n  areEnchantmentsPreserved,\n  checkEnchantmentIsCompatible,\n  mergeEnchantments,\n  anvil,\n  combineItems,\n  getDisplayName,\n};\n","import React from \"react\";\n\nclass Icon extends React.PureComponent {\n  render() {\n    const { name, size } = this.props;\n    return (\n      <img\n        src={`${process.env.PUBLIC_URL}/item_images/${name}.png`}\n        alt={name}\n        width={size}\n        height={size}\n      />\n    );\n  }\n}\n\nexport default Icon;\n","import React from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Table,\n  InputGroup,\n  FormControl,\n  Form,\n  OverlayTrigger,\n  Tooltip,\n} from \"react-bootstrap\";\nimport enchantments from \"../data/enchantments.json\";\nimport Select from \"react-select\";\nimport { checkEnchantmentIsCompatible, getDisplayName } from \"../utils/item\";\nimport { getEnchantmentDisplayName } from \"../utils/helpers\";\nimport Icon from \"./icon\";\n\nconst smallerSelect = {\n  control: (provided, state) => ({\n    ...provided,\n    minHeight: \"31px\",\n    height: \"31px\",\n  }),\n  input: (provided, state) => ({\n    ...provided,\n    margin: \"0px\",\n  }),\n  indicatorsContainer: (provided, state) => ({\n    ...provided,\n    height: \"31px\",\n  }),\n};\n\nclass Item extends React.PureComponent {\n  getPossibleEnchantmentOptions(item) {\n    return enchantments\n      .filter(\n        (filtered_enchantment) =>\n          !item.enchantments.some(\n            (some_enchantment) =>\n              some_enchantment.name === filtered_enchantment.name\n          ) && checkEnchantmentIsCompatible(item, filtered_enchantment)\n      )\n      .map((enchantment) => {\n        return {\n          value: enchantment.name,\n          label: getEnchantmentDisplayName(enchantment.name),\n        };\n      });\n  }\n\n  render() {\n    const {\n      item,\n      onDelete,\n      onAddEnchantment,\n      onDeleteEnchantment,\n      onChangeLevel,\n      onChangePenalty,\n      onCheckPreserve,\n    } = this.props;\n\n    return (\n      <Container>\n        <Row>\n          <Col sm=\"auto\">\n            <Container fluid>\n              <Row className=\"align-items-center\">\n                <Col xs=\"1\">\n                  <Icon name={item.name} size={32} />\n                </Col>\n                <Col xs=\"5\">\n                  <h2>{getDisplayName(item.name)}</h2>\n                </Col>\n                <Col>\n                  <button onClick={onDelete} className=\"close\">\n                    ×\n                  </button>\n                </Col>\n              </Row>\n              <Row>\n                <Col>\n                  <InputGroup size=\"sm\">\n                    <InputGroup.Prepend>\n                      <InputGroup.Text>Penalty</InputGroup.Text>\n                    </InputGroup.Prepend>\n                    <FormControl\n                      type=\"number\"\n                      value={item.penalty || 0}\n                      min=\"0\"\n                      onChange={(e) => onChangePenalty(e, item.index)}\n                    />\n                  </InputGroup>\n                </Col>\n              </Row>\n              <Row>\n                <Col>\n                  <Select\n                    options={this.getPossibleEnchantmentOptions(item)}\n                    onChange={(e) => onAddEnchantment(e)}\n                    placeholder=\"Add enchantments...\"\n                    value={null} //Enchantments added immediately; this should always be null\n                    styles={smallerSelect}\n                  />\n                </Col>\n              </Row>\n            </Container>\n          </Col>\n          <Col>\n            <Table>\n              <thead>\n                <tr>\n                  <th>Enchantment</th>\n                  <th>Level</th>\n                  <th>Item ×</th>\n                  <th>Book ×</th>\n                  <OverlayTrigger\n                    placement=\"right\"\n                    overlay={\n                      <Tooltip id={`tooltip-${item.index}`}>\n                        If mutually exclusive enchantments exist, use this\n                        checkbox to choose the one you want.\n                      </Tooltip>\n                    }\n                  >\n                    <th>Preserve</th>\n                  </OverlayTrigger>\n                </tr>\n              </thead>\n              <tbody>\n                {item.enchantments.map((enchantment, index) => (\n                  <tr key={index}>\n                    <td>{getEnchantmentDisplayName(enchantment.name)}</td>\n                    <td>\n                      <input\n                        type=\"number\"\n                        value={enchantment.level}\n                        min=\"1\"\n                        max={enchantment.max_level}\n                        onChange={(e) => onChangeLevel(e, enchantment)}\n                      />\n                    </td>\n                    <td>{enchantment.item_multiplier}</td>\n                    <td>{enchantment.book_multiplier}</td>\n                    <td>\n                      <Form.Check\n                        type=\"checkbox\"\n                        onChange={(e) => onCheckPreserve(e, enchantment)}\n                      />\n                    </td>\n                    <td>\n                      <button\n                        onClick={() => onDeleteEnchantment(enchantment)}\n                        className=\"close\"\n                      >\n                        ×\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </Table>\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default Item;\n","import React from \"react\";\nimport { Container, Row, Badge } from \"react-bootstrap\";\nimport {\n  numToNumeral,\n  levelToExperience,\n  getEnchantmentDisplayName,\n} from \"../utils/helpers\";\nimport { getDisplayName } from \"../utils/item\";\nimport Icon from \"./icon\";\n\nclass Step extends React.PureComponent {\n  render() {\n    const { step } = this.props;\n    return (\n      <tr>\n        <td>\n          <Container>\n            <Row>\n              <Icon name={step.targetItem.name} size={16} />\n              {getDisplayName(step.targetItem.name)}\n              <Badge pill variant=\"warning\">\n                {step.targetItem.penalty}\n              </Badge>\n            </Row>\n            <Row>\n              {step.targetItem.enchantments.map((enchantment, index) => {\n                return (\n                  <Badge\n                    key={index}\n                    pill\n                    variant={enchantment.is_curse ? \"danger\" : \"primary\"}\n                  >\n                    {getEnchantmentDisplayName(enchantment.name)}{\" \"}\n                    {numToNumeral(enchantment.level)}\n                  </Badge>\n                );\n              })}\n            </Row>\n          </Container>\n        </td>\n        <td>\n          <Container>\n            <Row>\n              <Icon name={step.sacrificeItem.name} size={16} />\n              {getDisplayName(step.sacrificeItem.name)}\n              <Badge pill variant=\"warning\">\n                {step.sacrificeItem.penalty}\n              </Badge>\n            </Row>\n            <Row>\n              {step.sacrificeItem.enchantments.map((enchantment, index) => {\n                return (\n                  <Badge\n                    key={index}\n                    pill\n                    variant={enchantment.is_curse ? \"danger\" : \"primary\"}\n                  >\n                    {getEnchantmentDisplayName(enchantment.name)}{\" \"}\n                    {numToNumeral(enchantment.level)}\n                  </Badge>\n                );\n              })}\n            </Row>\n          </Container>\n        </td>\n        <td>\n          <Container>\n            <Row>\n              <Icon name={step.resultingItem.name} size={16} />\n              {getDisplayName(step.resultingItem.name)}\n              <Badge pill variant=\"warning\">\n                {step.resultingItem.penalty}\n              </Badge>\n            </Row>\n            <Row>\n              {step.resultingItem.enchantments.map((enchantment, index) => {\n                return (\n                  <Badge\n                    key={index}\n                    pill\n                    variant={enchantment.is_curse ? \"danger\" : \"primary\"}\n                  >\n                    {getEnchantmentDisplayName(enchantment.name)}{\" \"}\n                    {numToNumeral(enchantment.level)}\n                  </Badge>\n                );\n              })}\n            </Row>\n          </Container>\n        </td>\n        <td>{step.stepCost}</td>\n        <td>{levelToExperience(step.stepCost)}</td>\n      </tr>\n    );\n  }\n}\n\nexport default Step;\n","import React from \"react\";\nimport \"./App.scss\";\n\nimport items from \"./data/items.json\";\nimport enchantments from \"./data/enchantments.json\";\nimport Item from \"./components/item\";\nimport Step from \"./components/step\";\nimport Icon from \"./components/icon\";\nimport { getItemData, getDisplayName } from \"./utils/item\";\n// import { combineItems } from \"./utils/item\"; //for debugging\nimport worker from \"workerize-loader!./utils/worker.js\"; // eslint-disable-line import/no-webpack-loader-syntax\nimport { Container, Row, Col, Table, Button, Form } from \"react-bootstrap\";\nimport { levelToExperience, addIndexes } from \"./utils/helpers\";\nimport Select from \"react-select\";\n\n// Presets\nimport helmet_preset from \"./data/helmet_preset.json\";\nimport chestplate_preset from \"./data/chestplate_preset.json\";\nimport leggings_preset from \"./data/leggings_preset.json\";\nimport boots_preset from \"./data/boots_preset.json\";\nimport sword_sharpness_preset from \"./data/sword_sharpness_preset.json\";\nimport pickaxe_fortune_preset from \"./data/pickaxe_fortune_preset.json\";\nimport pickaxe_silk_touch_preset from \"./data/pickaxe_silk_touch_preset.json\";\nimport bow_preset from \"./data/bow_preset.json\";\nimport hoe_fortune_preset from \"./data/hoe_fortune_preset.json\";\nimport hoe_silk_touch_preset from \"./data/hoe_silk_touch_preset.json\";\n\nlet instance = worker();\nconst presets = {\n  clear: { data: [], display_name: \"Clear\" },\n  helmet: { data: helmet_preset, display_name: \"Helmet\" },\n  chestplate: { data: chestplate_preset, display_name: \"Chestplate\" },\n  leggings: { data: leggings_preset, display_name: \"Leggings\" },\n  boots: { data: boots_preset, display_name: \"Boots\" },\n  sword_sharpness: {\n    data: sword_sharpness_preset,\n    display_name: \"Sword (Sharpness)\",\n  },\n  pickaxe_fortune: {\n    data: pickaxe_fortune_preset,\n    display_name: \"Pickaxe (Fortune)\",\n  },\n  pickaxe_silk_touch: {\n    data: pickaxe_silk_touch_preset,\n    display_name: \"Pickaxe (Silk Touch)\",\n  },\n  bow: { data: bow_preset, display_name: \"Bow\" },\n  hoe_fortune: {\n    data: hoe_fortune_preset,\n    display_name: \"Hoe (Fortune)\",\n  },\n  hoe_silk_touch: {\n    data: hoe_silk_touch_preset,\n    display_name: \"Hoe (Silk Touch)\",\n  },\n};\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items_to_combine: [],\n      results: {\n        targetItem: {},\n        steps: [],\n        status: \"No items or items cannot be combined.\",\n      },\n      nextIndex: 0,\n      settings: { java_edition: false },\n    };\n  }\n\n  getAddOptions() {\n    // e.g., if boots is in items_to_combine, the type is boots\n    const to_combine_item_type = this.state.items_to_combine.reduce(\n      (type, item) => {\n        return type || item.name === \"book\" ? type : item.name;\n      },\n      null\n    );\n    // Include if there is no type, the type matches, or if it's a book\n    const filtered_items = items.filter((item) => {\n      return (\n        !to_combine_item_type ||\n        item.name === to_combine_item_type ||\n        item.name === \"book\"\n      );\n    });\n    return filtered_items.map((item) => {\n      return { value: item.name, label: getDisplayName(item.name) };\n    });\n  }\n\n  // componentDidMount() {\n  //Preload preset\n  // this.setState({ items_to_combine: addIndexes(test_preset) });\n  // this.combineAndSetState(addIndexes(test_preset));\n\n  //   //Use the following line to debug (no worker)\n  // combineItems(addIndexes(test_preset));\n  // }\n\n  combineAndSetState(items_to_combine, settings) {\n    this.setState({\n      results: { targetItem: {}, steps: [], status: \"Loading...\" },\n    });\n    instance.terminate();\n    instance = worker();\n    instance\n      .combineItemsExecute(items_to_combine, settings || this.state.settings)\n      .then((results) => {\n        this.setState({ results: results });\n      });\n  }\n\n  changeItemToAdd(e) {\n    this.setState({\n      itemToAdd: e.value,\n    });\n  }\n\n  addItem() {\n    if (this.state.itemToAdd) {\n      const new_items_to_combine = [\n        ...this.state.items_to_combine,\n        {\n          name: this.state.itemToAdd,\n          enchantments: [],\n          index: this.state.nextIndex,\n        },\n      ];\n      this.setState({\n        items_to_combine: new_items_to_combine,\n        nextIndex: this.state.nextIndex + 1,\n      });\n      this.combineAndSetState(new_items_to_combine);\n    }\n  }\n\n  deleteItem(index) {\n    const new_items_to_combine = this.state.items_to_combine.filter(\n      (item) => item.index !== index\n    );\n    this.setState({\n      items_to_combine: new_items_to_combine,\n    });\n    this.combineAndSetState(new_items_to_combine);\n  }\n\n  getPresetOptions() {\n    return Object.entries(presets).map((entry) => {\n      return { value: entry[0], label: entry[1].display_name };\n    });\n  }\n\n  changePreset(e) {\n    this.setState({\n      preset: e.value,\n    });\n  }\n\n  setPreset() {\n    const new_items_to_combine = addIndexes(presets[this.state.preset].data);\n    this.setState({\n      items_to_combine: new_items_to_combine,\n      nextIndex: new_items_to_combine.length,\n    });\n    this.combineAndSetState(new_items_to_combine);\n  }\n\n  changeItemPenalty(e, item_index) {\n    if (!e.target) {\n      return;\n    }\n    let new_items_to_combine = [...this.state.items_to_combine];\n    const modifiedItem = new_items_to_combine.find(\n      (item) => item.index === item_index\n    );\n    modifiedItem.penalty = e.target.valueAsNumber;\n    new_items_to_combine = [\n      ...new_items_to_combine.filter((item) => item.index !== item_index),\n      modifiedItem,\n    ];\n    new_items_to_combine.sort((item_a, item_b) => item_a.index - item_b.index);\n    this.setState({\n      items_to_combine: new_items_to_combine,\n    });\n    this.combineAndSetState(new_items_to_combine);\n  }\n\n  getEnchantmentMaxLevel(enchantmentName) {\n    return enchantments.find(\n      (enchantment) => enchantment.name === enchantmentName\n    ).max_level;\n  }\n\n  addEnchantment(e, item_index) {\n    const new_items_to_combine = [...this.state.items_to_combine];\n    const new_item = new_items_to_combine.find(\n      (item) => item.index === item_index\n    );\n    if (e.value) {\n      new_item.enchantments = [\n        ...new_item.enchantments,\n        {\n          name: e.value,\n          level: this.getEnchantmentMaxLevel(e.value),\n        },\n      ];\n      this.setState({\n        items_to_combine: new_items_to_combine,\n      });\n      this.combineAndSetState(new_items_to_combine);\n    }\n  }\n\n  deleteEnchantment(item_index, enchantment) {\n    const new_items_to_combine = [...this.state.items_to_combine];\n    const new_item = new_items_to_combine.find(\n      (item) => item.index === item_index\n    );\n    new_item.enchantments = new_item.enchantments.filter(\n      (filter_enchantment) => filter_enchantment.name !== enchantment.name\n    );\n    this.setState({\n      items_to_combine: new_items_to_combine,\n    });\n    this.combineAndSetState(new_items_to_combine);\n  }\n\n  changeEnchantmentLevel(e, item_index, enchantment) {\n    if (!e.target) {\n      return;\n    }\n    const new_items_to_combine = [...this.state.items_to_combine];\n    const new_item = new_items_to_combine.find(\n      (item) => item.index === item_index\n    );\n    const new_enchantment = new_item.enchantments.find(\n      (find_enchantment) => find_enchantment.name === enchantment.name\n    );\n    new_enchantment.level = e.target.valueAsNumber;\n    this.setState({\n      items_to_combine: new_items_to_combine,\n    });\n    this.combineAndSetState(new_items_to_combine);\n  }\n\n  checkPreserve(e, item_index, enchantment) {\n    if (!e.target) {\n      return;\n    }\n    const new_items_to_combine = [...this.state.items_to_combine];\n    const new_item = new_items_to_combine.find(\n      (item) => item.index === item_index\n    );\n    const new_enchantment = new_item.enchantments.find(\n      (find_enchantment) => find_enchantment.name === enchantment.name\n    );\n    new_enchantment.preserve = e.target.checked;\n    this.setState({\n      items_to_combine: new_items_to_combine,\n    });\n    this.combineAndSetState(new_items_to_combine);\n  }\n\n  checkJavaEdition(e) {\n    if (!e.target) {\n      return;\n    }\n    const new_settings = {\n      ...this.state.settings,\n      java_edition: e.target.checked,\n    };\n    this.setState({\n      settings: new_settings,\n    });\n    this.combineAndSetState(this.state.items_to_combine, new_settings);\n  }\n\n  render() {\n    const { results, items_to_combine } = this.state;\n    return (\n      <div className=\"App\">\n        <Container fluid>\n          <Row className=\"align-items-center\">\n            <Col xs=\"auto\">\n              <Icon name=\"anvil\" size=\"64\" />\n            </Col>\n            <Col>\n              <h1>Minecraft Anvil Calculator</h1>\n              <p>\n                Add an item or select a preset to begin.\n                <a\n                  href=\"https://github.com/aviettran/minecraft-anvil-calc\"\n                  className=\"github\"\n                >\n                  [github]\n                </a>\n              </p>\n            </Col>\n          </Row>\n          <Row xl=\"auto\" className=\"align-items-center\">\n            <Col xs=\"6\" xl=\"2\">\n              <Select\n                options={this.getAddOptions()}\n                onChange={(e) => this.changeItemToAdd(e)}\n                placeholder=\"Items...\"\n              />\n            </Col>\n            <Col xl=\"1\">\n              <Button variant=\"outline-primary\" onClick={() => this.addItem()}>\n                Add\n              </Button>\n            </Col>\n            <Col xs=\"6\" xl=\"2\">\n              <Select\n                options={this.getPresetOptions()}\n                onChange={(e) => this.changePreset(e)}\n                placeholder=\"Presets...\"\n              />\n            </Col>\n            <Col xl=\"1\">\n              <Button\n                variant=\"outline-primary\"\n                onClick={() => this.setPreset()}\n              >\n                Select Preset\n              </Button>\n            </Col>\n            <Col xl=\"2\">\n              <Form.Check\n                type=\"checkbox\"\n                label=\"Java Edition\"\n                onChange={(e) => this.checkJavaEdition(e)}\n              />\n            </Col>\n          </Row>\n          <Row>\n            <Col xs=\"auto\">\n              {items_to_combine.map((item) => {\n                return (\n                  <Item\n                    item={getItemData(item)}\n                    key={item.index}\n                    onDelete={() => this.deleteItem(item.index)}\n                    onAddEnchantment={(e) => this.addEnchantment(e, item.index)}\n                    onDeleteEnchantment={(enchantment) =>\n                      this.deleteEnchantment(item.index, enchantment)\n                    }\n                    changeEnchantmentToAdd={(e) =>\n                      this.changeEchantmentToAdd(e, item.index)\n                    }\n                    onChangeLevel={(e, enchantment) =>\n                      this.changeEnchantmentLevel(e, item.index, enchantment)\n                    }\n                    onChangePenalty={(e) =>\n                      this.changeItemPenalty(e, item.index)\n                    }\n                    onCheckPreserve={(e, enchantment) =>\n                      this.checkPreserve(e, item.index, enchantment)\n                    }\n                  ></Item>\n                );\n              })}\n            </Col>\n            <Col xs=\"6\">\n              <h3>Results</h3>\n              <p>{results.status}</p>\n              <p>Total Levels: {results.cost || 0}</p>\n              <p>\n                Total Experience:{\" \"}\n                {results.steps.reduce(\n                  (total, step) => total + levelToExperience(step.stepCost),\n                  0\n                )}\n              </p>\n              <Table>\n                <thead>\n                  <tr>\n                    <th>Target</th>\n                    <th>Sacrifice</th>\n                    <th>Result</th>\n                    <th>Step Cost</th>\n                    <th>Step Experience</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {results.steps.map((step, index) => {\n                    return <Step step={step} key={index} />;\n                  })}\n                </tbody>\n              </Table>\n              {/* <p>{`Result JSON: ${JSON.stringify(results)}`}</p> */}\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport './App.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}